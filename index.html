<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO and Sharing Metadata -->
    <title>Qualitative Coding Network - Interdisciplinary Education Analysis | Susan Johnson</title>
    <meta name="description" content="Interactive network visualization exploring the rhetoric-reality gap in interdisciplinary education. Based on qualitative analysis of SPARC Transcript 4507.">
    <meta name="author" content="Susan Johnson, Northeastern University">
    <meta name="keywords" content="qualitative research, coding analysis, interdisciplinary education, network visualization, rhetoric-reality gap, higher education">
    
    <!-- Open Graph Meta Tags for Social Sharing -->
    <meta property="og:title" content="Qualitative Coding Network Analysis - Interdisciplinary Education">
    <meta property="og:description" content="Interactive visualization revealing the disconnect between universities' interdisciplinary rhetoric and institutional reality.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://[your-username].github.io/qualitative-coding-visualization/">
    <meta property="og:image" content="https://[your-username].github.io/qualitative-coding-visualization/preview.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Qualitative Coding Network - Rhetoric vs Reality">
    <meta name="twitter:description" content="Interactive analysis of interdisciplinary education barriers at universities">
    
    <!-- Academic Metadata -->
    <meta name="citation_title" content="Qualitative Coding Network Analysis: Rhetoric-Reality Gap in Interdisciplinary Education">
    <meta name="citation_author" content="Johnson, Susan">
    <meta name="citation_publication_date" content="2025/06">
    <meta name="citation_journal_title" content="EDU 7294 Advanced Research Design">
    <meta name="citation_publisher" content="Northeastern University">
    
    <!-- D3.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .visualization-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .network-container {
            flex: 2;
            background-color: #fafafa;
            border-radius: 8px;
            padding: 10px;
            position: relative;
        }
        
        .matrix-container {
            flex: 1;
            background-color: #fafafa;
            border-radius: 8px;
            padding: 20px;
        }
        
        .legend {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .legend h3 {
            margin-top: 0;
            color: #444;
        }
        
        .legend-item {
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 10px;
        }
        
        .legend-circle {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            vertical-align: middle;
        }
        
        /* Network styles */
        .node {
            cursor: pointer;
        }
        
        .node text {
            font-size: 12px;
            pointer-events: none;
        }
        
        .link {
            fill: none;
            stroke-opacity: 0.6;
        }
        
        .link:hover {
            stroke-opacity: 1;
            stroke-width: 3px;
        }
        
        /* Matrix styles */
        .matrix-cell {
            stroke: #fff;
            stroke-width: 2px;
            cursor: pointer;
        }
        
        .matrix-label {
            font-size: 11px;
        }
        
        .tooltip {
            position: absolute;
            text-align: left;
            padding: 10px;
            font-size: 12px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 5px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .controls {
            text-align: center;
            margin-bottom: 20px;
        }
        
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #45a049;
        }
        
        .key-findings {
            background-color: #e8f4f8;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }
        
        .key-findings h3 {
            margin-top: 0;
            color: #1976D2;
        }
        
        .footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            text-align: center;
            color: #666;
            font-size: 12px;
        }
        
        .footer a {
            color: #2196F3;
            text-decoration: none;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Qualitative Coding Network Analysis</h1>
        <p class="subtitle">
            SPARC Transcript 4507 - Rhetoric-Reality Gap in Interdisciplinary Education<br>
            <em>Susan Johnson, Northeastern University | June 2025</em>
        </p>
        
        <div class="legend">
            <h3>Code Categories</h3>
            <div class="legend-item">
                <span class="legend-circle" style="background-color: #2196F3;"></span>
                In Vivo Codes
            </div>
            <div class="legend-item">
                <span class="legend-circle" style="background-color: #FF5722;"></span>
                Descriptive Codes
            </div>
            <div class="legend-item">
                <span class="legend-circle" style="background-color: #4CAF50;"></span>
                Pattern Codes
            </div>
            <div class="legend-item">
                <span class="legend-circle" style="background-color: #9C27B0;"></span>
                Theoretical Codes
            </div>
            <div class="legend-item">
                <span class="legend-circle" style="background-color: #FFC107;"></span>
                Key Findings
            </div>
        </div>
        
        <div class="controls">
            <button onclick="resetView()">Reset View</button>
            <button onclick="highlightStrongestPaths()">Show Strongest Connections</button>
            <button onclick="focusOnPatterns()">Focus on Patterns</button>
        </div>
        
        <div class="visualization-container">
            <div class="network-container">
                <svg id="network"></svg>
            </div>
            <div class="matrix-container">
                <h3>Code Relationship Matrix</h3>
                <svg id="matrix"></svg>
            </div>
        </div>
        
        <div class="key-findings">
            <h3>Key Analytical Insights</h3>
            <ul>
                <li><strong>Institutional Contradiction:</strong> Universities promote interdisciplinarity rhetorically while maintaining structures that actively prevent it</li>
                <li><strong>Elite Exception Model:</strong> Innovation requires exceptional resources ($35M) and special positioning outside traditional constraints</li>
                <li><strong>Hidden Obstruction:</strong> Local-level resistance undermines institutional ideals, often invisibly</li>
                <li><strong>Simple Solutions Ignored:</strong> Technical fixes exist but remain unimplemented due to political rather than practical barriers</li>
            </ul>
        </div>
        
        <div class="footer">
            <p>
                This interactive visualization accompanies the paper "Coding Scheme, Codebook and Video Narrative" 
                for EDU 7294 Advanced Research Design.<br>
                Created by <a href="mailto:[your-email]">Susan Johnson</a> | 
                <a href="https://github.com/[your-username]/qualitative-coding-visualization">View on GitHub</a> |
                <a href="#" onclick="window.print(); return false;">Print Version</a>
            </p>
        </div>
    </div>
    
    <div class="tooltip"></div>
    
    <script>
        // Data structure for the network
        const nodes = [
            // In Vivo Codes
            { id: "idiotic_distinctions", label: "Idiotic kinds of distinctions", type: "invivo", category: "first" },
            { id: "businesses_rackets", label: "Businesses or rackets", type: "invivo", category: "first" },
            
            // Descriptive Codes
            { id: "structural_barriers", label: "Structural Barriers", type: "descriptive", category: "first" },
            { id: "hidden_obstruction", label: "Hidden Obstruction", type: "descriptive", category: "first" },
            { id: "external_funding", label: "External Funding Success", type: "descriptive", category: "first" },
            
            // Pattern Codes
            { id: "rhetoric_reality", label: "Rhetoric-Reality Gap", type: "pattern", category: "second" },
            { id: "simple_solutions", label: "Simple Solutions Ignored", type: "pattern", category: "second" },
            { id: "faculty_deficit", label: "Faculty Sophistication Deficit", type: "pattern", category: "second" },
            
            // Theoretical Codes
            { id: "risk_taking", label: "Risk-Taking Philosophy", type: "theoretical", category: "second" },
            { id: "elite_position", label: "Elite Position Advantage", type: "theoretical", category: "second" },
            
            // Key Findings
            { id: "institutional_rhetoric", label: "Institutional Rhetoric ≠ Reality", type: "finding", category: "outcome" },
            { id: "political_barriers", label: "Political Barriers Dominate", type: "finding", category: "outcome" },
            { id: "resources_enable", label: "Resources Enable Innovation", type: "finding", category: "outcome" }
        ];
        
        const links = [
            // First to Second Cycle
            { source: "idiotic_distinctions", target: "rhetoric_reality", strength: 9 },
            { source: "businesses_rackets", target: "rhetoric_reality", strength: 8 },
            { source: "structural_barriers", target: "rhetoric_reality", strength: 10 },
            { source: "structural_barriers", target: "simple_solutions", strength: 7 },
            { source: "hidden_obstruction", target: "rhetoric_reality", strength: 8 },
            { source: "hidden_obstruction", target: "faculty_deficit", strength: 6 },
            { source: "external_funding", target: "elite_position", strength: 10 },
            
            // Second Cycle to Findings
            { source: "rhetoric_reality", target: "institutional_rhetoric", strength: 10 },
            { source: "simple_solutions", target: "political_barriers", strength: 9 },
            { source: "faculty_deficit", target: "political_barriers", strength: 7 },
            { source: "risk_taking", target: "institutional_rhetoric", strength: 6 },
            { source: "elite_position", target: "resources_enable", strength: 10 },
            
            // Cross-connections
            { source: "businesses_rackets", target: "risk_taking", strength: 5 },
            { source: "structural_barriers", target: "political_barriers", strength: 8 },
            { source: "external_funding", target: "resources_enable", strength: 9 }
        ];
        
        // Color scheme
        const colorScheme = {
            invivo: "#2196F3",
            descriptive: "#FF5722",
            pattern: "#4CAF50",
            theoretical: "#9C27B0",
            finding: "#FFC107"
        };
        
        // Set up dimensions
        const networkWidth = 800;
        const networkHeight = 600;
        const matrixSize = 300;
        
        // Create network visualization
        const networkSvg = d3.select("#network")
            .attr("width", networkWidth)
            .attr("height", networkHeight);
            
        // Create matrix visualization
        const matrixSvg = d3.select("#matrix")
            .attr("width", matrixSize)
            .attr("height", matrixSize);
            
        // Tooltip
        const tooltip = d3.select(".tooltip");
        
        // Force simulation
        const simulation = d3.forceSimulation(nodes)
            .force("link", d3.forceLink(links).id(d => d.id).distance(150))
            .force("charge", d3.forceManyBody().strength(-300))
            .force("center", d3.forceCenter(networkWidth / 2, networkHeight / 2))
            .force("collision", d3.forceCollide().radius(30));
            
        // Create arrow markers
        networkSvg.append("defs").selectAll("marker")
            .data(["end"])
            .enter().append("marker")
            .attr("id", "arrow")
            .attr("viewBox", "0 -5 10 10")
            .attr("refX", 25)
            .attr("refY", 0)
            .attr("markerWidth", 6)
            .attr("markerHeight", 6)
            .attr("orient", "auto")
            .append("path")
            .attr("d", "M0,-5L10,0L0,5")
            .attr("fill", "#999");
            
        // Create links
        const link = networkSvg.append("g")
            .selectAll("line")
            .data(links)
            .enter().append("line")
            .attr("class", "link")
            .attr("stroke", d => d3.interpolateGreys(0.3 + (d.strength / 10) * 0.5))
            .attr("stroke-width", d => Math.sqrt(d.strength))
            .attr("marker-end", "url(#arrow)");
            
        // Create nodes
        const node = networkSvg.append("g")
            .selectAll("g")
            .data(nodes)
            .enter().append("g")
            .attr("class", "node")
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));
                
        node.append("circle")
            .attr("r", d => d.category === "outcome" ? 20 : 15)
            .attr("fill", d => colorScheme[d.type])
            .on("mouseover", showTooltip)
            .on("mouseout", hideTooltip);
            
        node.append("text")
            .attr("dx", 20)
            .attr("dy", 5)
            .text(d => d.label)
            .style("font-weight", d => d.category === "outcome" ? "bold" : "normal");
            
        // Create matrix
        const matrixData = [];
        const nodeIds = nodes.map(d => d.id);
        
        nodeIds.forEach((source, i) => {
            nodeIds.forEach((target, j) => {
                const link = links.find(l => 
                    (l.source === source && l.target === target) ||
                    (l.source.id === source && l.target.id === target)
                );
                matrixData.push({
                    x: i,
                    y: j,
                    strength: link ? link.strength : 0
                });
            });
        });
        
        const cellSize = matrixSize / nodeIds.length;
        
        matrixSvg.selectAll("rect")
            .data(matrixData)
            .enter().append("rect")
            .attr("class", "matrix-cell")
            .attr("x", d => d.x * cellSize)
            .attr("y", d => d.y * cellSize)
            .attr("width", cellSize - 2)
            .attr("height", cellSize - 2)
            .attr("fill", d => d.strength > 0 ? d3.interpolateBlues(d.strength / 10) : "#f0f0f0")
            .on("mouseover", function(event, d) {
                if (d.strength > 0) {
                    const sourceNode = nodes[d.x];
                    const targetNode = nodes[d.y];
                    showMatrixTooltip(event, sourceNode, targetNode, d.strength);
                }
            })
            .on("mouseout", hideTooltip);
            
        // Simulation tick
        simulation.on("tick", () => {
            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);
                
            node.attr("transform", d => `translate(${d.x},${d.y})`);
        });
        
        // Drag functions
        function dragstarted(event, d) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
        }
        
        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }
        
        function dragended(event, d) {
            if (!event.active) simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }
        
        // Tooltip functions
        function showTooltip(event, d) {
            const connections = links.filter(l => l.source.id === d.id || l.target.id === d.id);
            let content = `<strong>${d.label}</strong><br/>
                          Type: ${d.type}<br/>
                          Category: ${d.category}<br/>
                          Connections: ${connections.length}`;
            
            tooltip
                .style("opacity", 1)
                .html(content)
                .style("left", (event.pageX + 10) + "px")
                .style("top", (event.pageY - 10) + "px");
        }
        
        function showMatrixTooltip(event, source, target, strength) {
            tooltip
                .style("opacity", 1)
                .html(`<strong>${source.label}</strong> → <strong>${target.label}</strong><br/>Strength: ${strength}`)
                .style("left", (event.pageX + 10) + "px")
                .style("top", (event.pageY - 10) + "px");
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        // Control functions
        function resetView() {
            node.style("opacity", 1);
            link.style("opacity", 1);
            simulation.alpha(0.3).restart();
        }
        
        function highlightStrongestPaths() {
            link.style("opacity", d => d.strength >= 8 ? 1 : 0.1);
            node.style("opacity", d => {
                const hasStrongConnection = links.some(l => 
                    (l.strength >= 8) && 
                    (l.source.id === d.id || l.target.id === d.id)
                );
                return hasStrongConnection ? 1 : 0.3;
            });
        }
        
        function focusOnPatterns() {
            node.style("opacity", d => d.type === "pattern" || d.type === "finding" ? 1 : 0.3);
            link.style("opacity", d => 
                (d.source.type === "pattern" || d.target.type === "pattern" ||
                 d.source.type === "finding" || d.target.type === "finding") ? 1 : 0.1
            );
        }
        
        // Log for debugging
        console.log("Qualitative Coding Network Visualization loaded successfully");
        console.log("Nodes:", nodes.length);
        console.log("Links:", links.length);
    </script>
</body>
</html>